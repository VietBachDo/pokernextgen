var dict = {};
dict['1'] = ['<img class="selected-cards" src="assets/imgs/cards/2_of_clubs.png" selected-card-id="1" onClick="print_id(1)">', false];
dict['2'] = ['<img class="selected-cards" src="assets/imgs/cards/2_of_diamonds.png" selected-card-id="2" onClick="print_id(2)" style="color: red; ">', false];
dict['3'] = ['<img class="selected-cards" src="assets/imgs/cards/2_of_hearts.png" selected-card-id="3" onClick="print_id(3)" style="color: red; ">', false];
dict['4'] = ['<img class="selected-cards" src="assets/imgs/cards/2_of_spades.png" selected-card-id="4" onClick="print_id(4)">', false];
dict['5'] = ['<img class="selected-cards" src="assets/imgs/cards/3_of_clubs.png" selected-card-id="5" onClick="print_id(5)">', false];
dict['6'] = ['<img class="selected-cards" src="assets/imgs/cards/3_of_diamonds.png" selected-card-id="6" onClick="print_id(6)" style="color: red; ">', false];
dict['7'] = ['<img class="selected-cards" src="assets/imgs/cards/3_of_hearts.png" selected-card-id="7" onClick="print_id(7)" style="color: red; ">', false];
dict['8'] = ['<img class="selected-cards" src="assets/imgs/cards/3_of_spades.png" selected-card-id="8" onClick="print_id(8)">', false];
dict['9'] = ['<img class="selected-cards" src="assets/imgs/cards/4_of_clubs.png" selected-card-id="9" onClick="print_id(9)">', false];
dict['10'] = ['<img class="selected-cards" src="assets/imgs/cards/4_of_diamonds.png" selected-card-id="10" onClick="print_id(10)" style="color: red; ">', false];
dict['11'] = ['<img class="selected-cards" src="assets/imgs/cards/4_of_hearts.png" selected-card-id="11" onClick="print_id(11)" style="color: red; ">', false];
dict['12'] = ['<img class="selected-cards" src="assets/imgs/cards/4_of_spades.png" selected-card-id="12" onClick="print_id(12)">', false];
dict['13'] = ['<img class="selected-cards" src="assets/imgs/cards/5_of_clubs.png" selected-card-id="13" onClick="print_id(13)">', false];
dict['14'] = ['<img class="selected-cards" src="assets/imgs/cards/5_of_diamonds.png" selected-card-id="14" onClick="print_id(14)" style="color: red; ">', false];
dict['15'] = ['<img class="selected-cards" src="assets/imgs/cards/5_of_hearts.png" selected-card-id="15" onClick="print_id(15)" style="color: red; ">', false];
dict['16'] = ['<img class="selected-cards" src="assets/imgs/cards/5_of_spades.png" selected-card-id="16" onClick="print_id(16)">', false];
dict['17'] = ['<img class="selected-cards" src="assets/imgs/cards/6_of_clubs.png" selected-card-id="17" onClick="print_id(17)">', false];
dict['18'] = ['<img class="selected-cards" src="assets/imgs/cards/6_of_diamonds.png" selected-card-id="18" onClick="print_id(18)" style="color: red; ">', false];
dict['19'] = ['<img class="selected-cards" src="assets/imgs/cards/6_of_hearts.png" selected-card-id="19" onClick="print_id(19)" style="color: red; ">', false];
dict['20'] = ['<img class="selected-cards" src="assets/imgs/cards/6_of_spades.png" selected-card-id="20" onClick="print_id(20)">', false];
dict['21'] = ['<img class="selected-cards" src="assets/imgs/cards/7_of_clubs.png" selected-card-id="21" onClick="print_id(21)">', false];
dict['22'] = ['<img class="selected-cards" src="assets/imgs/cards/7_of_diamonds.png" selected-card-id="22" onClick="print_id(22)" style="color: red; ">', false];
dict['23'] = ['<img class="selected-cards" src="assets/imgs/cards/7_of_hearts.png" selected-card-id="23" onClick="print_id(23)" style="color: red; ">', false];
dict['24'] = ['<img class="selected-cards" src="assets/imgs/cards/7_of_spades.png" selected-card-id="24" onClick="print_id(24)">', false];
dict['25'] = ['<img class="selected-cards" src="assets/imgs/cards/8_of_clubs.png" selected-card-id="25" onClick="print_id(25)">', false];
dict['26'] = ['<img class="selected-cards" src="assets/imgs/cards/8_of_diamonds.png" selected-card-id="26" onClick="print_id(26)" style="color: red; ">', false];
dict['27'] = ['<img class="selected-cards" src="assets/imgs/cards/8_of_hearts.png" selected-card-id="27" onClick="print_id(27)" style="color: red; ">', false];
dict['28'] = ['<img class="selected-cards" src="assets/imgs/cards/8_of_spades.png" selected-card-id="28" onClick="print_id(28)">', false];
dict['29'] = ['<img class="selected-cards" src="assets/imgs/cards/9_of_clubs.png" selected-card-id="29" onClick="print_id(29)">', false];
dict['30'] = ['<img class="selected-cards" src="assets/imgs/cards/9_of_diamonds.png" selected-card-id="30" onClick="print_id(30)" style="color: red; ">', false];
dict['31'] = ['<img class="selected-cards" src="assets/imgs/cards/9_of_hearts.png" selected-card-id="31" onClick="print_id(31)" style="color: red; ">', false];
dict['32'] = ['<img class="selected-cards" src="assets/imgs/cards/9_of_spades.png" selected-card-id="32" onClick="print_id(32)">', false];
dict['33'] = ['<img class="selected-cards" src="assets/imgs/cards/10_of_clubs.png" selected-card-id="33" onClick="print_id(33)">', false];
dict['34'] = ['<img class="selected-cards" src="assets/imgs/cards/10_of_diamonds.png" selected-card-id="34" onClick="print_id(34)" style="color: red; ">', false];
dict['35'] = ['<img class="selected-cards" src="assets/imgs/cards/10_of_hearts.png" selected-card-id="35" onClick="print_id(35)" style="color: red; ">', false];
dict['36'] = ['<img class="selected-cards" src="assets/imgs/cards/10_of_spades.png" selected-card-id="36" onClick="print_id(36)">', false];
dict['37'] = ['<img class="selected-cards" src="assets/imgs/cards/jack_of_clubs2.png" selected-card-id="37" onClick="print_id(37)">', false];
dict['38'] = ['<img class="selected-cards" src="assets/imgs/cards/jack_of_diamonds2.png" selected-card-id="38" onClick="print_id(38)" style="color: red; ">', false];
dict['39'] = ['<img class="selected-cards" src="assets/imgs/cards/jack_of_hearts2.png" selected-card-id="39" onClick="print_id(39)" style="color: red; ">', false];
dict['40'] = ['<img class="selected-cards" src="assets/imgs/cards/jack_of_spades2.png" selected-card-id="40" onClick="print_id(40)">', false];
dict['41'] = ['<img class="selected-cards" src="assets/imgs/cards/queen_of_clubs2.png" selected-card-id="41" onClick="print_id(41)">', false];
dict['42'] = ['<img class="selected-cards" src="assets/imgs/cards/queen_of_diamonds2.png" selected-card-id="42" onClick="print_id(42)" style="color: red; ">', false];
dict['43'] = ['<img class="selected-cards" src="assets/imgs/cards/queen_of_hearts2.png" selected-card-id="43" onClick="print_id(43)" style="color: red; ">', false];
dict['44'] = ['<img class="selected-cards" src="assets/imgs/cards/queen_of_spades2.png" selected-card-id="44" onClick="print_id(44)">', false];
dict['45'] = ['<img class="selected-cards" src="assets/imgs/cards/king_of_clubs2.png" selected-card-id="45" onClick="print_id(45)">', false];
dict['46'] = ['<img class="selected-cards" src="assets/imgs/cards/king_of_diamonds2.png" selected-card-id="46" onClick="print_id(46)" style="color: red; ">', false];
dict['47'] = ['<img class="selected-cards" src="assets/imgs/cards/king_of_hearts2.png" selected-card-id="47" onClick="print_id(47)" style="color: red; ">', false];
dict['48'] = ['<img class="selected-cards" src="assets/imgs/cards/king_of_spades2.png" selected-card-id="48" onClick="print_id(48)">', false];
dict['49'] = ['<img class="selected-cards" src="assets/imgs/cards/ace_of_clubs.png" selected-card-id="49" onClick="print_id(49)">', false];
dict['50'] = ['<img class="selected-cards" src="assets/imgs/cards/ace_of_diamonds.png" selected-card-id="50" onClick="print_id(50)" style="color: red; ">', false];
dict['51'] = ['<img class="selected-cards" src="assets/imgs/cards/ace_of_hearts.png" selected-card-id="51" onClick="print_id(51)" style="color: red; ">', false];
dict['52'] = ['<img class="selected-cards" src="assets/imgs/cards/ace_of_spades.png" selected-card-id="52" onClick="print_id(52)">', false];

var myArray = [];


function print_id(id){
  if(myArray.length < 4 && dict[id][1] == false){

      dict[id][1] = true;
      myArray.push(id);
      $( "#append" ).append( dict[id][0] );
      console.log('works')
      console.log(id)
      let mainCard = document.querySelectorAll('[card-id="'+id+'"]')[0].lastElementChild;
      let mainCardClone = document.querySelectorAll('[card-id="'+id+'"]')[1].lastElementChild;
      mainCard.style.opacity = "0.3"
      mainCardClone.style.opacity = "0.3"
      //document.querySelectorAll('[card-id="1"]')[1].style.visibility = "hidden";
      //card.classList.add("selectedCard")
      //cardCloned.classList.add("selectedCard")
  } else if(myArray.length > 0 && dict[id][1] == true) {

    dict[id][1] = false;
    for (let i = 0; i <= myArray.length; i++) {
      if (myArray[i] == id) {
        myArray.splice(i, 1)
        break;
      }
    }
    // $( "#append" ).remove( '[selected-card-id="'+id+'"]' )
    var element = document.querySelectorAll('[selected-card-id="'+id+'"]')[0];
    element.parentNode.removeChild(element)
    let mainCard = document.querySelectorAll('[card-id="'+id+'"]')[0].lastElementChild;
    let mainCardClone = document.querySelectorAll('[card-id="'+id+'"]')[1].lastElementChild;
    mainCard.style.opacity = "1"
    mainCardClone.style.opacity = "1"

  } else if(myArray.length > 4) {
    alert("You have already chosend 4 cards, please remove one");
  }
}

  function submit_hand() {
      var x = document.getElementById("valueA")
      var y = document.getElementById("valueB")
      x.style.visibility = "visible";
      y.style.visibility = "visible";

      const ranking = document.querySelector(".ranking-value");
      const percentage = document.querySelector(".percentage-value");

      const rankingOdo = new Odometer({
        el: ranking,
        animation: 'count',
        duration: 1000
      })

      const percentageOdo = new Odometer({
        el: percentage,
        animation: 'count',
        duration: 1000
      })


      let temp_array = [parseInt(myArray[0]),parseInt(myArray[1]),parseInt(myArray[2]),parseInt(myArray[3])]
      function sortNumber(a,b) {
        return a - b;
      }

      temp_array.sort(sortNumber)
      console.log(temp_array)
      let cardOne = temp_array[0]
      let cardTwo = temp_array[1]
      let cardThree = temp_array[2]
      let cardFour = temp_array[3]
      let tempString = String(cardOne) + "-" + String(cardTwo) + "-" + String(cardThree) + "-" + String(cardFour)
      // let tempString = "1-2-3-4"
      const url='https://pac8489nx8.execute-api.us-east-2.amazonaws.com/ngp/?type=hand&value=' + tempString
        $.ajax({
          url: url,
          type: "GET",
          success: function(result) {
            console.log(result)
            let equity = result.body[0].equity
            equity = equity.toFixed(2)
            let rank = result.body[0].hand_rank
            console.log(rank)
            ranking.innerHTML = rank;
            percentage.innerHTML = equity;
          },
          error:function(error){
            console.log(error);
          }
        })




      // let equity = result.body.equity
      //console.log(equity)
      // let hand_rank = result.body.hand_rank
      // console.log(hand_rank)
  }


  function submit_ranking() {
      document.getElementById("hand-rank-one").innerHTML = ""
      document.getElementById("hand-rank-two").innerHTML = ""
      document.getElementById("hand-rank-three").innerHTML = ""
      document.getElementById("hand-rank-four").innerHTML = ""
      let value = document.getElementById('example-number-input').value
      const url='https://pac8489nx8.execute-api.us-east-2.amazonaws.com/ngp/?type=rank&value=' + String(value-1)
        $.ajax({
          url: url,
          type: "GET",
          success: function(result) {
            //console.log(result)
            let equity = result.body.equity
            console.log(equity)

            let hand = result.body.hand
            console.log(hand)
            let splitted = hand.split("-")
            function sortNumberTwo(a,b) {
              b - a;
            }
            let temp_array = [splitted[0],splitted[1],splitted[2],splitted[3]]
            temp_array.sort(sortNumberTwo)
            let cardOne = temp_array[0]
            let cardTwo = temp_array[1]
            let cardThree = temp_array[2]
            let cardFour = temp_array[3]
            $( "#hand-rank-one" ).append( dict[cardOne][0] );
            $( "#hand-rank-two" ).append( dict[cardTwo][0] );
            $( "#hand-rank-three" ).append( dict[cardThree][0] );
            $( "#hand-rank-four" ).append( dict[cardFour][0] );
          },
          error:function(error){
            console.log(error);
          }
        })
        // if (error == null) {
        //
        // }
    console.log(url)


    // var x = document.getElementById("hand-output")
    // x.style.visibility = "visible"
  }
